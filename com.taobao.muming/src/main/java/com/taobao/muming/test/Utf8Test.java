package com.taobao.muming.Util.test;

public class Utf8Test {
	
	/*
	 * \xf0\x9f\x98\x8a 
	 * -16 -97 -104 -127 -8 
	 * 16 00010000 -16 11110000(0xF0) 
	 * 97 01100001 -97 10011111(0x9F) 
	 * 104 01101000 -104 10011000(0x98) 
	 * 127 01111111 -127 10000010(0x82) 
	 * 74 01110100 -74 10001100(0x8A) 
	 * 8 00001000 -8 11111000(0xF8)
	 */
	public static String removeFourChar(String content) {
		byte[] conbyte = content.getBytes();
		for (int i = 0; i < conbyte.length; i++) {
			if ((conbyte[i] & 0xF8) == 0xF0) {
				for (int j = 0; j < 4; j++) {
					conbyte[i + j] = 0x30; // ascii 16è¿›åˆ¶è¡¨ç¤ºçš„å­—ç¬¦0
				}
				i += 3;
			}
		}
		content = new String(conbyte);
		return content.replaceAll("0000", "");
	}
	
	/*
	 * &åå…­è¿›åˆ¶ï¼šC0 B1 äºŒè¿›åˆ¶ï¼š11000000 10110001 å¯¹æ¯”ä¸¤ä¸ªå­—èŠ‚ç¼–ç çš„è¡¨ç¤ºæ–¹å¼ï¼š 110xxxxx 10xxxxxx
	 * æå–å‡ºå¯¹åº”çš„UNICODEç¼–ç ï¼š 00000 110001
	 * å¯ä»¥çœ‹å‡ºæ­¤ç¼–ç å¹¶éžâ€œæ ‡å‡†â€çš„UTF-8ç¼–ç ï¼Œå› ä¸ºå…¶ç¬¬ä¸€ä¸ªå­—èŠ‚çš„â€œæœ‰æ•ˆç¼–ç â€å…¨ä¸º0ï¼ŒåŽ»é™¤é«˜ä½0åŽçš„ç¼–ç ä»…æœ‰6ä½
	 * ã€‚ç”±å‰é¢æ‰€è¿°ï¼Œæ­¤å­—ç¬¦ä»…ç”¨ä¸€ä¸ªå­—èŠ‚çš„UTF-8ç¼–ç è¡¨ç¤ºå°±å¤Ÿäº†ã€‚
	 * JAVAåœ¨æŠŠå­—ç¬¦è¿˜åŽŸä¸ºUTF-8ç¼–ç æ—¶ï¼Œæ˜¯æŒ‰ç…§â€œæ ‡å‡†â€çš„æ–¹å¼å¤„ç†çš„ï¼Œå› æ­¤æˆ‘ä»¬å¾—åˆ°çš„æ˜¯ä»…æœ‰1ä¸ªå­—èŠ‚çš„ç¼–ç ã€‚
	 * ä¸å¥½ä½¿äº†ï¼Œå“ˆå“ˆ
	 * å¤§å®¶å¯ä»¥è¯•è¯•è¿è¡Œè¿™æ®µä»£ç ï¼š
	 */

	public static void main(String[] args) throws Exception {
		byte[][] bytes = {
				// 00110001
				{ (byte) 0x31 },
				// 11000000 10110001
				{ (byte) 0xC0, (byte) 0xB1 },
				// 11100000 10000000 10110001
				{ (byte) 0xE0, (byte) 0x80, (byte) 0xB1 },
				// 11110000 10000000 10000000 10110001
				{ (byte) 0xF0, (byte) 0x80, (byte) 0x80, (byte) 0xB1 },
				// 11111000 10000000 10000000 10000000 10110001
				{ (byte) 0xF8, (byte) 0x80, (byte) 0x80, (byte) 0x80,
						(byte) 0xB1 },
				// 11111100 10000000 10000000 10000000 10000000 10110001
				{ (byte) 0xFC, (byte) 0x80, (byte) 0x80, (byte) 0x80,
						(byte) 0x80, (byte) 0xB1 }, };
		for (int i = 0; i < 6; i++) {
			String str = new String(bytes[i], "UTF-8");
			System.out.println("åŽŸæ•°ç»„é•¿åº¦ï¼š" + bytes[i].length + "/tè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š" + str
					+ "/tè½¬å›žåŽæ•°ç»„é•¿åº¦ï¼š" + str.getBytes("UTF-8").length);
		}
		
		String text = "123ðŸ˜ðŸ˜ðŸ˜ðŸ˜12312";
		removeFourChar(text);
	}
	/*
	 * ã€€ã€€è¿è¡Œç»“æžœä¸ºï¼š
	 * 
	 * åŽŸæ•°ç»„é•¿åº¦ï¼š1 è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š1 è½¬å›žåŽæ•°ç»„é•¿åº¦ï¼š1 åŽŸæ•°ç»„é•¿åº¦ï¼š2 è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š1 è½¬å›žåŽæ•°ç»„é•¿åº¦ï¼š1 åŽŸæ•°ç»„é•¿åº¦ï¼š3 è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š1
	 * è½¬å›žåŽæ•°ç»„é•¿åº¦ï¼š1 åŽŸæ•°ç»„é•¿åº¦ï¼š4 è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š1 è½¬å›žåŽæ•°ç»„é•¿åº¦ï¼š1 åŽŸæ•°ç»„é•¿åº¦ï¼š5 è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š1 è½¬å›žåŽæ•°ç»„é•¿åº¦ï¼š1 åŽŸæ•°ç»„é•¿åº¦ï¼š6
	 * è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼š1 è½¬å›žåŽæ•°ç»„é•¿åº¦ï¼š1
	 */
}
